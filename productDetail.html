<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Product Detail</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <h1>Product Detail</h1>
</header>

<button onclick="window.location.href='index.html'">Back to Home</button>

<div id="productDetailContainer"></div>

<script type="module">
import { db } from './firebase.js';
import { doc, getDoc } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

async function loadProductDetail() {
    const container = document.getElementById("productDetailContainer");
    const id = localStorage.getItem("selectedItemId");
    if (!id) return container.innerHTML = "<p>No product selected.</p>";

    const docRef = doc(db, "products", id);
    const docSnap = await getDoc(docRef);

    if (!docSnap.exists()) return container.innerHTML = "<p>Product not found.</p>";

    const item = docSnap.data();
    container.innerHTML = `
        <h2>${item.productName}</h2>
        <img src="${item.imageUrl}">
        <p><strong>Seller:</strong> ${item.sellerName}</p>
        <p><strong>Blok:</strong> ${item.blok}</p>
        <p><strong>Phone:</strong> ${item.phone}</p>
        <p><strong>Product Category:</strong> ${item.productCategory}</p>
        <p><strong>Service Category:</strong> ${item.serviceCategory}</p>
        <p><strong>Price:</strong> RM${item.price}</p>
        <p><strong>Description:</strong> ${item.description}</p>
    `;
}

window.onload = loadProductDetail;
</script>

</body>
</html>


